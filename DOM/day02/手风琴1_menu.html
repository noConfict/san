<!DOCTYPE HTML>
<html>
<head>
<title>1. 实现伸缩二级菜单</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="css/1.css" />
<style>
	li{
	list-style:none;
}
li span{
	padding-left: 20px;
	cursor: pointer;
  background: url("images/add.png") no-repeat center left;
}
li ul{display: none; }
.open{ background: url("images/minus.png") no-repeat center left; }
.open+ul{ display: block; }
</style>
</head>
<body>
	<ul class="tree">
		<li>
			<span class="open">考勤管理</span>
			<ul>
				<li>日常考勤</li>
				<li>请假申请</li>
				<li>加班/出差</li>
			</ul>
		</li>
		<li><span>信息中心</span>
			<ul>
				<li>通知公告</li>
				<li>公司新闻</li>
				<li>规章制度</li>
			</ul>
		</li>
		<li><span>协同办公</span>
			<ul>
				<li>公文流转</li>
				<li>文件中心</li>
				<li>内部邮件</li>
				<li>即时通信</li>
				<li>短信提醒</li>
			</ul>
		</li>
	</ul>
  <script>
	  //1  查找触发事件的元素
	var spans=document.querySelectorAll("ul.tree>li>.span");
	//2绑定事件处理函数
	for(var span of spans){
		span.onclick=function(){
			if(this.className=="open"){
				this.className="";
			}else{
				var spans=document.querySelectorAll("ul.tree>tree>li>span");
	for(var span of spans){
				span.className="";
			}
			this.className="open"; 	
			}
			
		}
	}

// 	var spans=document.querySelectorAll("ul.tree>li>span");
// 	for(var span of spans){
// 	span.onclick=function(){
// 		if(this.className=="open"){
// 			this.className="";
// 		}else{
// 			var spans=document.querySelectorAll(
// 				"ul.tree>li>span"
// 			);
// 			for(var span of spans){
// 				span.className="";
// 			}
// 			this.className="open";
// 		}
// 	}
// }

// var spans=document.querySelectorAll("ul.tree>li>span");
// for(var span of spans){
// 	span.onclick=function(){
// 		if(this.className=="open"){
// 			this.className="";
// 		}else{
// 			var spans=document.querySelectorAll("ul.tree>li>span");
// 			for(var span of spans){
// 				span.className="";
// 			}
// 			this.className="open";
// 		}
// 	}
// }
  </script>
</body>
</html>
